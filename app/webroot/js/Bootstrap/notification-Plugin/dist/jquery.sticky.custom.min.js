
"use strict";(function(b){var a={timers:{},queue:{}};b.each([b.fn,b],function(d,e){e.extend({sticky:c})});function c(d,e){if(!d){return}e=e||{};if(typeof d=="string"){e.body=d}else{e=d}e=b.extend({icon:"",iconType:"img",title:"",body:"",width:300,speed:500,position:"top-right",hideAfter:3000,closeable:true,useAnimateCss:false,animations:{"top-left":["zoomInRight","zoomOutRight"],"top-mid":["zoomInUp","zoomOutUp"],"top-right":["zoomInLeft","zoomOutLeft"],"mid-left":["zoomInRight","zoomOutRight"],"mid-mid":["zoomIn","zoomOut"],"mid-right":["zoomInLeft","zoomOutLeft"],"bottom-left":["zoomInRight","zoomOutRight"],"bottom-mid":["zoomInDown","zoomOutDown"],"bottom-right":["zoomInLeft","zoomOutLeft"]},iconClassName:"sticky-icon",bodyClassName:"sticky-body",titleClassName:"sticky-title",stickyClassName:"sticky",holderClassName:"sticky-holder"},e);if(!e.body){return}e.animationend="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";e.id="sticky-"+Math.random().toString().replace(".","");var h=[["top","mid","bottom"],["left","mid","right"]],i;if(!e.position||(i=e.position.split("-")).length!=2||h[0].indexOf(i[0])<0||h[1].indexOf(i[1])<0){i=["top","right"];e.position=i.join("-")}var d=b("body").eq(0),f;if((f=d.find(".sticky-holder.sticky-"+e.position)).length==0){f=b("<div />",{"class":"sticky-holder sticky-"+e.position}).css({width:e.width})}a.queue[e.position]=a.queue[e.position]||[];a.queue[e.position].push(e);if(!f.is(":empty")){return}(function g(s){var q=b("<div />",{id:s.id,"class":s.stickyClassName}).css({width:s.width,opacity:0.01});if(s.title){s.body="<div class='notificationTitle'>"+s.title+"</div>"+s.body}if(s.icon){if(s.iconType="i"){var k=b("<div />").html("<div class='notificationBody'>"+s.body+"</div>");k.css({position:"absolute",top:"-5000px",width:"70%"});b(d).append(k);var r=k.height();k.remove();s.body="<div class='notificationIcon' style='height:"+r+"px';>"+s.icon+"</div><div class='notificationBody'>"+s.body+"</div>"}else{s.body='<img src="'+s.icon+'" class="'+s.iconClassName+'" />'+s.body}}b("<p />",{"class":s.bodyClassName}).html(s.body).appendTo(q);b.each(["speed","hideAfter"],function(t,u){q.data(u,s[u])});function o(v){if(v.target){v=b(v.target)}var x=v.attr("id"),w=a.timers[x];if(w){try{clearTimeout(w)}catch(t){}delete a.timers[x]}function u(){var z=b(this).remove().attr("id");s.onHidden&&s.onHidden(z);var y=a.queue[s.position];if(y&&y.length>0){g(y.splice(0,1)[0])}else{f.remove()}}if(s.useAnimateCss){v.addClass("animated "+s.animations[s.position][1]).one(s.animationend,u)}else{v.stop().dequeue().animate(q.data("anim-exit"),v.data("speed"),u)}}if(s.closeable){q.append("<span>&times;</span>").one("click",">span",function(){o(b(this).parent())})}q.appendTo(f);f.appendTo(d);var m={},j={},l={opacity:1},r=q.height()+10,n=(i[1]=="mid"?"top":i[1]);j[n]=({left:-s.width,top:-r-10,right:-s.width})[n];l[n]=0;b.extend(m,({left:{left:5},mid:{left:"50%",marginLeft:-s.width/2},right:{right:5}})[i[1]],{top:5});if(i[0]=="mid"){m.top="50%";m.marginTop=-r/2-10;if(i[1]=="mid"){j.top=0}}else{if(i[0]=="bottom"){delete m.top;m.bottom=r;if(i[1]=="mid"){j.top=r}}}f.css(m);q.data("anim-exit",j);function p(){var t=b(this).attr("class",s.stickyClassName).attr("id");s.onShown&&s.onShown(t)}if(!s.useAnimateCss){q.css(j).animate(l,s.speed,p)}else{q.css("opacity",1).addClass("animated "+s.animations[s.position][0]).one(s.animationend,p)}q.on("dismiss",o);j.opacity=0.01;if(s.hideAfter){a.timers[s.id]=setTimeout(o,q.data("hideAfter"),q)}})(a.queue[e.position].splice(0,1)[0])}c.dequeue=function(f){if(!f){for(var d in a.timers){try{clearTimeout(a.timers[d])}catch(e){}}a.timers={};a.queue=[]}else{try{clearTimeout(a.timers[f])}catch(e){}}f=(f?"#"+f:"div[id^=sticky-]");b(f).trigger("dismiss")}})(jQuery);
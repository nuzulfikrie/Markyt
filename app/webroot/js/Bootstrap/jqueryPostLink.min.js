(function(a){a.fn.postlink=function(d){var e={enabled:true,debug:true,onFly:true,};var d=a.extend(e,d);return this.each(function(){var j=a(this);if(j[0].tagName!="A"){return}if(!d.onFly){j.click(function(k){k.preventDefault();var n=a(this);var m=n.attr("href");var l=c(m);var o=b(l);a("body").append(o);o.submit()})}else{var h=a(this);var g=h.attr("href");var f=c(g);var i=b(f);a("body").append(i);i.submit()}});function b(j){var h=document.createElement("form");$linkForm=a(h);if(j.url&&j.url.length>0){$linkForm.attr("action",j.url)}$linkForm.attr("method","post");var g=new Date();$linkForm.attr("id","postlinkForm_"+g.getTime());var f=0;for(var k in j.keyPairs){var i=document.createElement("input");var l=a(i);l.attr("id","postlink_hidden_"+k+f+"_input");l.attr("type","hidden");l.attr("name",k);l.attr("value",j.keyPairs[k]);$linkForm.append(l)}return $linkForm}function c(i){var g={url:null,keyPairs:{}};if(i.match(/\?/)){var k=i.split("?");if(k[0]!==""||k[0]>0){g.url=k[0]}var j=k[1];var h=j.split("&");while(h.length>0){var f=h.shift().split("=");g.keyPairs[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}}else{g.url=i}return g}}})(jQuery);